@*
    @model IEnumerable<Northwest.Models.>
*@

@{
    ViewBag.Title = "Orders";
}
<script src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"></script>

<div class="container-fluid">
    <!-- Breadcrumbs-->
    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a href="#">Dashboard</a>
        </li>
        <li class="breadcrumb-item active">Order History</li>
    </ol>
    <!-- Example DataTables Card-->
    <div class="card mb-3">
        <div class="card-header">
            <i class="fa fa-table"></i> Order History
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <button style="float:right;" onclick="window.location = '/Customer/CreateOrder/'">Create New Order</button>
                <table class="table table-hover" id="dataTable" width="100%" cellspacing="0">
                    <thead>
                        <tr>
                            <th>Order Number</th>
                            <th>Order Date</th>
                            <th>Compounds</th>
                            <th>Status</th>
                            <th>Cost</th>
                            <th>View Results</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr id="clickCompound_2" class="pointer" onclick="showCompounds(2)">
                            <td>7483938</td>
                            <td>12/27/2016</td>
                            <td>1 Compound</td>
                            <td>Arrived</td>
                            <td>$600</td>
                            <td><button>Full Results</button></td>
                        </tr>
                        <tr style="display:none; background-color:lightgrey" class="fadeCompound_2 pointer">
                            <td></td>
                            <td></td>
                            <td>Hydrocodone</td>
                            <td>Arrived</td>
                            <td>$600</td>
                            <td><button onclick="window.location = '/Customer/CompoundDetails/'">Results</button></td>
                        </tr>




                        <tr id="clickCompound_1" class="pointer" onclick="showCompounds(1)">
                            <td>3434623</td>
                            <td>11/22/2016</td>
                            <td>3 Compounds</td>
                            <td>In Testing</td>
                            <td>$1150</td>
                            <td><button>Full Results</button></td>
                        </tr>
                        <tr style="display:none; background-color:lightgrey" class="fadeCompound_1">
                            <td></td>
                            <td></td>
                            <td>Methadone</td>
                            <td>Completed</td>
                            <td>$400</td>
                            <td><button onclick="window.location = '/Customer/CompoundDetails/'">Results</button></td>
                        </tr>
                        <tr style="display:none; background-color:lightgrey" class="fadeCompound_1">
                            <td></td>
                            <td></td>
                            <td>Amlodipine</td>
                            <td>In Testing</td>
                            <td>$500</td>
                            <td><button onclick="window.location = '/Customer/CompoundDetails/'">Results</button></td>
                        </tr>
                        <tr style="display:none; background-color:lightgrey" class="fadeCompound_1">
                            <td></td>
                            <td></td>
                            <td>Morphobond</td>
                            <td>In Testing</td>
                            <td>$250</td>
                            <td><button onclick="window.location = '/Customer/CompoundDetails/'">Results</button></td>
                        </tr>



                        <tr id="clickCompound_3" class="pointer" onclick="showCompounds(3)">
                            <td>0909834</td>
                            <td>10/10/2016</td>
                            <td>1 Compound</td>
                            <td>Complete</td>
                            <td>$300</td>
                            <td><button>Full Results</button></td>
                        </tr>
                        <tr style="display:none; background-color:lightgrey" class="fadeCompound_3 pointer">
                            <td></td>
                            <td></td>
                            <td>Percocet</td>
                            <td>Complete</td>
                            <td>$300</td>
                            <td><button onclick="window.location = '/Customer/CompoundDetails/'">Results</button></td>
                        </tr>


                            @*
                        @foreach (var item in list)
                        {

                            <tr id="clickCompound_@counter" onclick="showCompounds(@counter)">
                                <td>@item</td>
                                <td>12/27/1945</td>
                                <td>3 Compound</td>
                                <td>In Progress</td>
                                <td>$1500</td>
                                <td>-</td>
                            </tr>
                            @foreach (var comp in compound)
                            {
                                <tr style="display:none; background-color:lightgrey" id="fadeCompound_@counter">
                                    <td></td>
                                    <td></td>
                                    <td>Florium</td>
                                    <td>Completed</td>
                                    <td>$400</td>
                                    <td><button>Details</button></td>
                                </tr>

                            }
                            { counter++; }
                        }
*@
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<!-- /.container-fluid-->
<!-- /.content-wrapper-->
<footer class="sticky-footer">
    <div class="container">
        <div class="text-center">
            <small>Copyright © Your Website 2017</small>
        </div>
    </div>
</footer>
<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fa fa-angle-up"></i>
</a>
<!-- Logout Modal-->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
            <div class="modal-footer">
                <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                <a class="btn btn-primary" href="login.html">Logout</a>
            </div>
        </div>
    </div>
</div>


<footer class="sticky-footer">
    <div class="container">
        <div class="text-center">
            <small>Copyright © Northwest Labs, Inc.</small>
        </div>
    </div>
</footer>


<script>
    var counter = 1;
    var counter2 = 1;
    var counter3 = 1;
    function showCompounds(id) {
        document.querySelectorAll('.fadeCompound_' + id).forEach(el => $(el).fadeToggle());
        if (id === 1) {
            if (counter === 1) {
                $('#clickCompound_' + id).css('background-color', 'rgba(0,123,255, .1)');
                counter = 0;
            }
            else {
                $('#clickCompound_' + id).css('background-color', 'white');
                counter = 1;
            }
        }
        else if(id === 2){
            if (counter2 === 1) {
                $('#clickCompound_' + id).css('background-color', 'rgba(0,123,255, .1)');
                counter2 = 0;
            }
            else {
                $('#clickCompound_' + id).css('background-color', 'white');
                counter2 = 1;
            }
        }
        else {
            if (counter3 === 1) {
                $('#clickCompound_' + id).css('background-color', 'rgba(0,123,255, .1)');
                counter3 = 0;
            }
            else {
                $('#clickCompound_' + id).css('background-color', 'white');
                counter3 = 1;
            }
        }
    }
</script>
